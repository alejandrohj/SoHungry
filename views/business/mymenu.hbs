{{> restaurantNavBar this}}
<h4>Add a new dish to the Menu:</h4>
<section class="addNewDish sticky">
    <div class="imgSection">
        <div class="sectionItem imageToAdd">
            <img src={{temporalImg}} width="200" height="200">
        </div>
        <div class="sectionItem">
            <div id='backend_upload'>
            <form action="/photos/addDish" enctype="multipart/form-data" method="post" class='basicInfo-form'>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">Title:</span>
                    </div>
                    <input type="text" name='title' id= 'photo_title' value='Dish photo' class="form-control" aria-label="Username" aria-describedby="basic-addon1">
                </div>
                <div class="form_controls">
                    <input id="photo_image" name="image" type="file" />
                    <input id="photo_image_cache" name="image_cache" type="hidden"/>
                </div>
                </div>
                <div class="form_line">
                <div class="form_controls">
                    <input name="commit" type="submit" value="Submit Photo" class="btn btn-primary log-btn" />
                </div>
                </div>
                <input id="direct" name="direct" type="hidden" />
            </form></div>
        </div>
    </div>
    <div class="addDishForm">
        <form method="POST" action="/business/addDish"  class="addDishForm" >
            
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Dish name:</span>
                </div>
                <input type="text" name='name' id= 'name' placeholder='Dish name here' class="form-control" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Price:</span>
                </div>
                <input type="number" step="0.01" name='price' id= 'price' placeholder='Dish price here' class="form-control" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Dish description:</span>
                </div>
                <input type="text" name='description' id= 'description' placeholder='Dish description here' class="form-control" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div>
                <button type="submit" class="btn btn-primary log-btn-addDish">Add Dish</button>
            </div>
        </form>
    </div>
</section>
<div>
    {{#if errorMessage}}
        <div>{{errorMessage}}</div>
    {{/if}}
</div>
<h4>Your current dishes:</h4>
<div class="dishesInfo">
    {{#each restaurantInfo.menu}}
        <div class="card mb-3 DishCard" style="max-width: 550px;">
            <div class="row no-gutters">
                <div class="col-md-4">
                    <img src={{this.photo}} class="card-img" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <form method="POST" action="/business/editDish/{{this._id}}" class="form-inline dishForm" >
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">Dish:</span>
                                </div>
                                <input name="name" type="text" class="form-control card-title" id="dishname" value="{{this.name}}" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">Price(â‚¬):</span>
                                </div>
                                <input name="price" type="number" step="0.01" class="form-control card-text" id="dishprice" value= "{{this.price}}" aria-describedby="basic-addon1">
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">Description:</span>
                                </div>
                                <input name="description" type="text" class="form-control card-text" id="dishdescription" value= "{{this.description}}" aria-describedby="basic-addon1">
                            </div>
                            <button type="submit" class="btn btn-primary btn-yellow mymenuEdit">Edit</button>
                            <a href="/business/delete/{{this._id}}" class="btn btn-primary btn-red mymenuDelete">Delete</a>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>

    {{/each}}
</div>
